<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"    
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:body>
        <ui:composition template="./../clienteTemplate.xhtml">
            <ui:define name="content">
                <!--DEFINICION DEL BANNER-->
                <!-- banner start -->
                <section class="heigth-section">
                    <!--CON EL BANNER, SE VA A REUTILIZAR CODIGO CON JLTS
                    COLOCANDO LOS NOMBRES SEGUN LA EDSCRIPCION Y UN ID-->
                    <div class="container-fluid heigth-section" >
                        <div class="row heigth-section" >
                            <div class="col-med-12">
                                <div class="banner-section">                       
                                    <!-- particles.js container --> 
                                    <div id="particles-js"></div>             
                                    <!-- particles.js lib - https://github.com/VincentGarreau/particles.js --> 
                                    <!--  <script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>  -->
                                    <!--                                    <h:outputScript name="./../../js/particles.js" />-->
                                </div>
                                <div class="col-sm-6 col-xs-12 banner-first">   
                                    <div class="dec-title">
                                        <i class="fa fa-5x fa-check-square-o cent" aria-hidden="true"></i>
                                        <h2 class="title-banner">Define las Prendas</h2>
                                    </div>
                                </div>          
                                <div class="col-sm-4 banner-sec">   
                                    <h3 class="ti-bann-desc">Escoje las prendas que desees</h3>
                                    <p class="text-justify">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur natus eaque illo alias omnis, hic velit.</p>
                                </div> 
                                <div class="col-sm-2">   
                                </div> 
                            </div>
                        </div>
                    </div>                  
                </section>
                <!-- BANNER END -->             
                <!-- CONTENIDO -->
                <h:form id="formularioContenido" target="#{pedidoCT.pedido}">
                    <c:choose>
                        <c:when test="${pedidoCT.vista == 0}">
                            <div>
                                <section class="alt-catego">
                                    <div class="container-fluid alt-catego" >
                                        <div class="row alt-catego" >
                                            <div class="col-sm-12 enlinea" style="height: 120px">                     
                                                <ul class="nav nav-pills" style="alignment-adjust: central">
                                                    <c:forEach var="producto" begin="0" items="#{productoCT.productos}" end="#{productoCT.productos.size()}">
                                                        <li style="width: 10%;  ">
                                                            <div class="box box-widget" style="">
                                                                <div align="center" class="box-body">
                                                                    <p:graphicImage value="#{rutaCT.rutaimagenes}#{producto.rutaImagen}"/>
                                                                </div>
                                                                <div align="center" class="box-footer">
                                                                    <p:commandLink value="#{producto.nombre}">
                                                                        <f:setPropertyActionListener value="#{producto}" target="#{productoCT.producto}"/>
                                                                        <p:ajax event="click" listener="#{subProductoCT.consultarSubProductosSegunProducto(producto)}" update="@form"/>
                                                                    </p:commandLink>
                                                                </div>
                                                            </div>                                
                                                        </li>                                                        
                                                    </c:forEach>
                                                </ul>   
                                            </div>
                                        </div>             
                                    </div>
                                </section>                                
                                <!--CATEGORIAS PRENDAS-->

                                <!--PRENDAS-->
                                <section>
                                    <div class="container pad-container">
                                        <p:messages id="msg" closable="true" autoUpdate="true" />
                                        <div class="row">                                            
                                            <c:forEach items="#{subProductoCT.subProductosConCosto}" var="subproducto" begin="0" end="#{subProductoCT.subProductosConCosto.size()}">
                                                <div class="col-md-6 col-sm-6 col-xs-10 esp-prenda" style="height: 340px">
                                                    <div class="row border-r">
                                                        <div class="col-xs-4" >
                                                            <p:graphicImage value="#{rutaCT.rutaimagenes}#{subproducto.rutaImagen}" width="180px" height="220px"/>
                                                        </div>
                                                        <div style="padding-left: 75px" class="col-xs-8 pad-content">
                                                            <h3 class="title-prenda">#{subproducto.nombre}</h3>
                                                            <p class="txt-justify">#{subproducto.descripcion}</p>
                                                            <p class="txt-justify">$#{subproducto.costo.valor}</p>   

                                                            <!-- INICION DE CONTADOR -->
                                                            <div align="left">
                                                                <h:panelGrid  width="80%" columns="2">                                                 
                                                                    <h:commandButton id="btnAgregar" value="Agregar" class="btn btn-info">
                                                                        <p:ajax event="click" update=":formularioModal" listener="#{pedidoCT.agregarproductos(subproducto)}"/>
                                                                    </h:commandButton>                                                
                                                                </h:panelGrid><br/>
                                                            </div><!-- INICION DE CONTADOR -->
                                                        </div>                                    
                                                    </div>
                                                </div>
                                            </c:forEach>                        
                                        </div>
                                    </div>
                                </section>
                                <!--PRENDAS-->
                            </div>
                        </c:when>
                        <c:when test="${pedidoCT.vista == 1}">
                            <section>  
                                <div class="container">                                    
                                    <div class="row"><!-- ROW PRINCIPAL -->
                                        <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12
                                             col-lg-offset-1 col-md-offset-1 col-sm-offset-1  pos-form ">
                                            <div class="row ">    
                                                <div class="col-lg-12">
                                                    <p:messages id="msg" closable="true" autoUpdate="true" />
                                                </div>
                                                <div class="col-xs-12 col-md-6"><!-- inicion / fin columnas -->
                                                    <div class="pedido">                              
                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Calendario para Pedido</label>
                                                            <b:dateTimePicker binding="#{FRecogida}" placeholder="DD/MM/YY" id="TFechaRec" required="true" required-message="Por favor, Seleccione fecha" value="#{pedidoCT.pedido.fechaRecogida}" show-time="false">
                                                                <f:validator validatorId="validadorFechaRecogida"/>
                                                            </b:dateTimePicker>
                                                            <p:message for="TFechaRec"/>
                                                            <span class="help-block"><em>* Define la fecha de recogida de la prendas. </em></span>								
                                                        </div>   

                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Zona Horaria</label>
                                                            <h:selectOneMenu validator="validadorHorarioRecogida" binding="#{HRecogida}" id="SMHorarioRec" required="true" requiredMessage="Seleccione horario de recogida" value="#{pedidoCT.pedido.horaInicio.horario}" class="form-control input-lg input-lg-lv">
                                                                <f:selectItem itemLabel="Seleccion horario de recogida" noSelectionOption="true"/>
                                                                <f:selectItems value="#{horarioCT.horarios}" var="horario" itemLabel="#{horario.horario}" itemValue="#{horario.horario}"/>
                                                                <f:attribute name="fechaRecogida" value="#{FRecogida.value}"/> 
                                                                <!--<f:validator validatorId="validadorHorarioRecogida"/>-->
                                                            </h:selectOneMenu>
                                                            <p:message for="SMHorarioRec"/>
                                                            <span class="help-block"><em>* Define horario de recogida de las prendas.</em></span>							
                                                        </div>

                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Barrio</label>
                                                            <h:selectOneMenu id="SMBarrioRec" required="true" requiredMessage="Seleccione barrio de recogida" value="#{pedidoCT.pedido.barrioRecogida.nombre}" class="form-control input-lg input-lg-lv">
                                                                <f:selectItem itemLabel="Seleccione barrio donde sera recogido el pedido" noSelectionOption="true"/>
                                                                <f:selectItems value="#{barrioCT.barrios}" var="barrio" itemLabel="#{barrio.nombre}" itemValue="#{barrio.nombre}"/>
                                                            </h:selectOneMenu>
                                                            <p:message for="SMBarrioRec"/>
                                                            <span class="help-block"><em>* Define barrio de residencia para la recogida de las prendas.</em></span>                                        
                                                        </div>

                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Dirección de residencia </label>
                                                            <h:inputText required="true" requiredMessage="Por favor, ingrese direccion de recogida del pedido" id="TDirRec"  value="#{pedidoCT.pedido.direccionRecogida}" class="form-control input-lg input-lg-lv">
                                                                <f:passThroughAttribute name="placeholder" value="Direccion de pedido"/>
                                                            </h:inputText>                                                                                                                               
                                                            <span class="help-block"><em>* Direccion de la residencia donde seran recogidas las prendas.</em></span>	
                                                            <p:message for="TDirRec"/>
                                                        </div>

                                                        <div class="form-grup">
                                                            <label for="" class="label-lv">Quien entrega?</label>
                                                            <h:inputText id="TQERec" required="true" requiredMessage="Por favor, ingrese nombre de la persona que entregar las prendas" class="form-control input-lg input-lg-lv" value="#{pedidoCT.pedido.quienEntrega}">
                                                                <f:passThroughAttribute name="placeholder" value="Nombre de la persona que entrega las prendas..."/>
                                                            </h:inputText>
                                                            <p:message for="TQERec"/>
                                                            <span class="help-block"><em>* Nombre de la persona que entregara las prendas.</em></span>	
                                                        </div>                              
                                                    </div>
                                                </div><!-- fin columnas -->

                                                <div class="col-xs-12 col-md-6"><!-- inicion / fin columnas -->
                                                    <div class="entrega">                              
                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Calendario para Entrega</label>
                                                            <b:dateTimePicker binding="#{FEntrega}" placeholder="DD/MM/YY" id="TFechaEnt" required="true" requiredMessage="Por favor, seleccione fecha de entrega" value="#{pedidoCT.pedido.fechaEntrega}" show-time="false">
                                                                <f:attribute name="fechaRecogida" value="#{FRecogida.value}"/> 
                                                                <f:validator validatorId="validadorFechaEntrega"/>
                                                            </b:dateTimePicker>
                                                            <p:message for="TFechaEnt"/>
                                                            <span class="help-block"><em>* Define la fecha de entrega de la prendas. </em></span>								
                                                        </div>

                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Zona Horaria</label>
                                                            <h:selectOneMenu validator="validadorHorarioEntrega" id="SMHorarioEnt" required="true" requiredMessage="Seleccione horario de entrega" value="#{pedidoCT.pedido.horaFinal.horario}" class="form-control input-lg input-lg-lv">
                                                                <f:selectItem itemLabel="Seleccione horario de entrega" noSelectionOption="true"/>
                                                                <f:selectItems value="#{horarioCT.horarios}" var="horario" itemLabel="#{horario.horario}" itemValue="#{horario.horario}"/>
                                                                <f:attribute name="fechaRecogida" value="#{FRecogida.value}"/>
                                                                <f:attribute name="fechaEntrega" value="#{FEntrega.value}"/>
                                                                <f:attribute name="horarioRecogida" value="#{HRecogida.value}"/>
                                                                <!--<f:validator validatorId="validadorHorarioEntrega"/>-->
                                                            </h:selectOneMenu>
                                                            <p:message for="SMHorarioEnt"/>
                                                            <span class="help-block"><em>* Define horario de entrega de las prendas.</em></span>							
                                                        </div>                                   

                                                        <div class="form-group">
                                                            <label class="label-lv" for="">Barrio</label>
                                                            <h:selectOneMenu required="true" requiredMessage="Seleccione barrio de entrega" id="SMBarrioEnt" value="#{pedidoCT.pedido.barrioEntrega.nombre}" class="form-control input-lg input-lg-lv">
                                                                <f:selectItem itemLabel="Seleccione barrio donde sera entregado el pedido" noSelectionOption="true"/>
                                                                <f:selectItems value="#{barrioCT.barrios}" var="barrio" itemLabel="#{barrio.nombre}" itemValue="#{barrio.nombre}"/>
                                                            </h:selectOneMenu> 
                                                            <p:message for="SMBarrioEnt"/>
                                                            <span class="help-block"><em>* Define barrio de residencia para la entrega de las prendas.</em></span>                                       
                                                        </div>

                                                        <div class="form-group">s
                                                            <label class="label-lv" for="">Dirección de entrega</label>
                                                            <h:inputText id="TDirEnt" required="true" requiredMessage="Por favor, ingrese direccion de entrega del pedido" value="#{pedidoCT.pedido.direccionEntrega}" class="form-control input-lg input-lg-lv">
                                                                <f:passThroughAttribute name="placeholder" value="Direccion de entrega de las prendas"/>
                                                            </h:inputText>
                                                            <p:message for="TDirEnt"/>
                                                            <span class="help-block"><em>* Direccion de la residencia donde seran entregadas las prendas.</em></span>
                                                        </div>

                                                        <div class="form-grup">
                                                            <label for="" class="label-lv">Quien recibe?</label>
                                                            <h:inputText id="TQEEnt" required="true" requiredMessage="Por favor, ingrese nombre de la persona que recibe las prendas" value="#{pedidoCT.pedido.quienRecibe}" class="form-control input-lg input-lg-lv">
                                                                <f:passThroughAttribute name="placeholder" value="Nombre de la persona que recibe las prendas..."/>
                                                            </h:inputText>
                                                            <p:message for="TQEEnt"/>
                                                            <span class="help-block"><em>* Nombre de la persona que recibira las prendas.</em></span>	
                                                        </div>                               
                                                    </div>
                                                </div><!-- fin columnas -->                                                
                                            </div>
                                        </div>
                                    </div><!-- ROW PRINCIPAL -->
                                </div>        
                            </section>
                        </c:when>
                        <c:when test="${pedidoCT.vista == 2}">
                            <!--VISTA CONFIRMACION-->
                            <section>
                                <div class="container">
                                    <p:messages id="msg" closable="true" autoUpdate="true" />
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12
                                             pos-form ">
                                            <div class="row">
                                                <div class="col-xs-12 col-md-12" >
                                                    <div class="bcg-color-pagos">
                                                        <div class="title wow fadeInRight animated ">
                                                            <h2 class="txt-title-form">Confirmacion del pedido</h2>							
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-xs-8 col-xs-offset-2 " style="padding: 20px 0px;" >
                                                                <div class="col-sm-6" >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="lfecharecogida">Fecha de recogida: </label>                                                                 
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.fechaRecogida.toString()}" id="lfecharecogida"/>
                                                                </div>
                                                                <div class="col-sm-6" >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="lfechaentrega">Fecha de Entrega: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.fechaEntrega.toString()}" id="lfechaentrega"/>                                                                        
                                                                </div>                                                            
                                                            </div>

                                                            <div class="col-xs-8 col-xs-offset-2 " style="padding: 20px 0px;" >
                                                                <div class="col-sm-6" >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="">Horaria de recogida: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.horaInicio.horario}"/>
                                                                </div>
                                                                <div class="col-sm-6 pdgn-pedido" >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="">Horaria de entrega: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.horaFinal.horario}"/>
                                                                </div>                                                            
                                                            </div>

                                                            <div class="col-xs-8 col-xs-offset-2 " style="padding: 20px 0px;" >
                                                                <div class="col-sm-6" >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="">Barrio de recogida: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.barrioRecogida.nombre}"/>
                                                                </div>
                                                                <div class="col-sm-6 " >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="">Barrio de entrega: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.barrioEntrega.nombre}"/>
                                                                </div>                                                            
                                                            </div>

                                                            <div class="col-xs-8 col-xs-offset-2 " style="padding: 20px 0px;">
                                                                <div class="col-sm-6" >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="">Dirección de recogida: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.direccionRecogida}"/>
                                                                </div>
                                                                <div class="col-sm-6 " >
                                                                    <label class="label-lv-2 bdr-azul text-capitalize" for="">Dirección de entrega: </label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.direccionEntrega}"/>
                                                                </div>                                                            
                                                            </div>

                                                            <div class="col-xs-8 col-xs-offset-2 " style="padding: 20px 0px;" >
                                                                <div class="col-sm-6" >
                                                                    <label for="" class="label-lv-2 bdr-azul text-capitalize">Quien entrega?</label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.quienEntrega}"/>
                                                                </div>
                                                                <div class="col-sm-6" >
                                                                    <label for="" class="label-lv-2 bdr-azul text-capitalize">Quien recibe?</label>
                                                                    <p:outputLabel class="label-lv-2" style="font-size: larger" 
                                                                                   value="#{pedidoCT.pedido.quienRecibe}"/>
                                                                </div>                                                            
                                                            </div>                                                         
                                                        </div>
                                                        <f:facet name="footer">
                                                            <hr/>
                                                        </f:facet>
                                                    </div>                                                   
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </c:when>
                        <c:when test="${pedidoCT.vista == 3}">
                            <section>
                                <div class="container ">
                                    <div class="row"><!-- ROW PRINCIPAL -->
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12  pos-form ">
                                            <div class="row">
                                                <div class="col-xs-12 col-md-6"><!-- inicion / fin columnas -->                                                   
                                                    <div class="bcg-color-pagos">
                                                        <div class="title title-lv wow fadeInRight animated ">
                                                            <h2 class="txt-title-form">Detalles del Contacto</h2>							
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label class="label-lv-2" for="">Nombres</label>
                                                                    <input type="text" class="form-control input-lg input-lg-lv" placeholder="Nombres" value="#{pedidoCT.pedido.usuario.nombre}"></input>
                                                                    <span class="help-block color-grey"><em>* Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi praesentium autem qui</em></span>	
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label class="label-lv-2" for="">Apellidos</label>
                                                                    <input type="text" class="form-control input-lg input-lg-lv" placeholder="Apellidos" value="#{pedidoCT.pedido.usuario.apellido}"/>
                                                                    <span class="help-block color-grey"><em>* Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi praesentium autem qui</em></span>	
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="form-grup">
                                                            <label for="" class="label-lv-2">Genero</label>
                                                            <h:selectOneMenu value="#{pedidoCT.pedido.usuario.genero}" class="input-lg form-control input-lg-lv">
                                                                <f:selectItem itemLabel="Genero" noSelectionOption="true"/>
                                                                <f:selectItem itemLabel="Masculino" itemValue="M" />
                                                                <f:selectItem itemLabel="Femenino"  itemValue="F"/>
                                                            </h:selectOneMenu>
                                                            <span class="help-block color-grey"><em>* Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi praesentium autem qui</em></span>	
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label class="label-lv-2" for="">Tu Teléfono</label>
                                                                    <input type="text" class="input-lg form-control input-lg-lv" value="#{pedidoCT.pedido.usuario.telefono}" placeholder="Telefono"/>
                                                                    <span class="help-block color-grey"><em>* Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi praesentium autem qui</em></span>							
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label class="label-lv-2" for="">Celular</label>
                                                                    <input type="text" class="input-lg form-control input-lg-lv" placeholder="Celular" value="#{pedidoCT.pedido.usuario.movil}"/>
                                                                    <span class="help-block color-grey"><em>* Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi praesentium autem qui</em></span>							
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="form-grup">
                                                            <label for="" class="label-lv-2">Tu Email</label>
                                                            <input type="text" class="form-control input-lg input-lg-lv" placeholder="Email" value="#{pedidoCT.pedido.usuario.email}"/>
                                                            <span class="help-block color-grey"><em>* Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi praesentium autem qui</em></span>	
                                                        </div>
                                                    </div>                                                    
                                                </div><!-- fin columnas -->

                                                <div class="col-xs-12 col-md-6"><!-- inicion / fin columnas -->
                                                    <div class="bcg-color-pagos">						
                                                        <div class="title title-lv wow fadeInRight animated ">
                                                            <h2 class="txt-title-form">Detalles de Pago</h2>
                                                            <span class="span-pad">
                                                                <img src="./images/fanq/amex.svg" alt="" class="img-franq-1"/>
                                                                <img src="./images/fanq/mastercard.svg" alt="" class="img-franq-2"/>
                                                                <img src="./images/fanq/visa.svg" alt="" class="img-franq-3"/>
                                                            </span>							
                                                        </div>                                                     
                                                      
                                                        <div id="accordion" role="tablist" aria-multiselectable="true">
                                                            <div class="panel panel-default">
                                                                <div class="panel-heading" role="tab" id="headingOne">
                                                                    <h4 class="panel-title">
                                                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                                            Pago con tarjeta
                                                                        </a>
                                                                    </h4>
                                                                </div>
                                                                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                                                    <div class="container-fluid">
                                                                        <div class="form-group">
                                                                            <label class="label-lv-2" for="">Número de Tarjeta</label>
                                                                            <input type="text" class="input-lg form-control input-lg-lv"/>

                                                                            <span class="help-block color-grey"><em>* inserte el numero de la tarjeta débito o crédito</em></span>		

                                                                            <label class="label-lv-2" >Fecha de Expiración</label>
                                                                            <div class="row">
                                                                                <div class="col-sm-12-col-xs-12">

                                                                                    <div class="col-xs-4">													
                                                                                        <input type="text" class="input-lg form-control input-lg-lv" placeholder="Año"/>

                                                                                        <span class="help-block color-grey"><em>* inserte el numero de la tarjeta débito o crédito</em></span>	
                                                                                    </div>
                                                                                    <div class="col-xs-4">													
                                                                                        <input type="text" class="input-lg form-control input-lg-lv" placeholder="Mes"/>

                                                                                        <span class="help-block color-grey"><em>* inserte el numero de la tarjeta débito o crédito</em></span>	
                                                                                    </div>
                                                                                    <div class="col-xs-4">													
                                                                                        <input type="text" class="input-lg form-control input-lg-lv" placeholder="Día"/>

                                                                                        <span class="help-block color-grey"><em>* inserte el numero de la tarjeta débito o crédito</em></span>	
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div style="width: 50%" align="center">
                                                                                <p:commandButton process="@this" oncomplete="#{subProductoCT.limpiarListasProductos()}" onclick="PrimeFaces.monitorDownload(start, stop);" update=":formularioContenido :formularioModal" action="#{pedidoCT.registrarPedido()}" value="PAGAR" class="btn btn-block btn-success">
                                                                                    <f:setPropertyActionListener target="#{pedidoCT.pedido.formaPago.idFormaPago}" value="3" />
                                                                                </p:commandButton>
                                                                            </div>
                                                                        </div>
                                                                    </div>  
                                                                </div>
                                                            </div>
                                                            <div class="panel panel-default">
                                                                <div class="panel-heading" role="tab" id="headingTwo">
                                                                    <h4 class="panel-title">
                                                                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                                            Pago en efectivo
                                                                        </a>
                                                                    </h4>
                                                                </div>
                                                                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                                                    <div class="container-fluid">
                                                                        <div class="form-group"> 
                                                                            <div align="center">
                                                                                <p>Desea pagar el servicio en efectivo cuando el asesor recoja su pedido.</p>
                                                                            </div>
                                                                            <p:commandButton immediate="true" oncomplete="#{subProductoCT.limpiarListasProductos()}" process="@this" onclick="PrimeFaces.monitorDownload(start, stop);" update=":formularioContenido :formularioModal" action="#{pedidoCT.registrarPedido()}" value="CONFIRMAR SERVICIO" style="width: 150px" class="btn btn-success">
                                                                                <f:setPropertyActionListener target="#{pedidoCT.pedido.formaPago.idFormaPago}" value="1" />
                                                                            </p:commandButton>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="panel panel-default">
                                                                <div class="panel-heading" role="tab" id="headingThree">
                                                                    <h4 class="panel-title">
                                                                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                                            Pago con tarjeta en sitio
                                                                        </a>
                                                                    </h4>
                                                                </div>
                                                                <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                                                    <div class="container-fluid">
                                                                        <div class="form-group"> 
                                                                            <div align="center">
                                                                                <p>Desea pagar el servicio con tarjeta cuando el asesor recoja su pedido.</p>
                                                                            </div>
                                                                            <p:commandButton immediate="true" process="@this" oncomplete="#{subProductoCT.limpiarListasProductos()}" onclick="PrimeFaces.monitorDownload(start, stop);" update=":formularioContenido :formularioModal" action="#{pedidoCT.registrarPedido()}" value="CONFIRMAR SERVICIO" style="width: 150px" class="btn btn-success">
                                                                                <f:setPropertyActionListener target="#{pedidoCT.pedido.formaPago.idFormaPago}" value="2"/>
                                                                            </p:commandButton>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>                                                   
                                                </div><!-- fin columnas -->	
                                            </div>
                                        </div>
                                    </div><!-- ROW PRINCIPAL -->
                                </div>
                            </section>
                        </c:when> 
                    </c:choose>

                    <div class="container">
                        <div class="row brd-btn-update">
                            <div class="col-md-12 col-xs-12 ">
                                <div class="col-md-6  col-xs-6  mrg-table">
                                    <div align="left">
                                        <p:commandButton class="btn btn-lg btn-primary" immediate="true" rendered="#{pedidoCT.botonatras}" update=":formularioContenido"  action="#{pedidoCT.atras()}" value="Atras" />
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-6 mrg-table" >
                                    <div align="right">
                                        <p:commandButton class="btn btn-lg btn-primary" rendered="#{pedidoCT.botonsiguiente}" update=":formularioContenido " action="#{pedidoCT.siguiente()}" value="Siguiente" />                                       					
                                        <p:commandButton class="btn btn-lg btn-success" rendered="#{pedidoCT.botonconfirmar}" update=":formularioContenido " action="#{pedidoCT.confirmar()}" value="Confirmar pedido" />                                      					
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <script type="text/javascript">
                        function start() {
                            PF('statusDialog').show();
                        }
                        function stop() {
                            PF('statusDialog').hide();
                        }
                    </script>
                    <p:dialog modal="true" widgetVar="statusDialog"  header="Registrando pedido, espere" draggable="false" closable="false" resizable="false">
                        <p:graphicImage width="100%" value="/resources/images/demo/ajaxloadingbar.gif" />
                    </p:dialog>
                </h:form>
                <!-- CONTENIDO END-->

                <h:form id="formularioModal">
                    <button type="button" data-toggle="modal" data-target="#myModal" id="numPrendas" class="btn-num-prendas">
                        #{pedidoCT.cantidadProductos}
                        <p:ajax event="click" update=":modal"/>                   
                    </button>
                </h:form>

                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">Prendas</h4>
                            </div>
                            <div class="modal-body">
                                <h:form id="modal"> 
                                    <c:forEach begin="0" end="#{pedidoCT.organizarSubProductos(pedidoCT.subproductos).size()}" items="#{pedidoCT.obtenerSubProductosPedidoOrdenados(pedidoCT.subproductos)}" var="subProducto"> 
                                        <div class="esp-prenda">
                                            <div class="row border-r">
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <div style="width: 30% " >
                                                                <p:graphicImage width="180px" height="220px" value="#{rutaCT.rutaimagenes}#{subProducto.rutaImagen}"/>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div style="padding-left: 50px"  class="col-xs-8 pad-content">
                                                                <h3 class="title-prenda">#{subProducto.nombre}</h3>
                                                                <p class="txt-justify">#{subProducto.descripcion}</p>
                                                                <h4 style="font-size: xx-large">#{pedidoCT.calcularCantidadPrendas(pedidoCT.organizarSubProductos(pedidoCT.subproductos), subProducto)}</h4>
                                                                <!-- INICION DE CONTADOR -->
                                                                <div align="left">
                                                                    <h:panelGrid  width="80%" columns="2">                                                 
                                                                        <p:commandButton id="btnAgregar" action="#{pedidoCT.eliminarproducto(subProducto)}" update=":formularioModal :modal" value="Eliminar" class="btn btn-danger">
                                                                        </p:commandButton>
                                                                    </h:panelGrid><br/>
                                                                </div><!-- INICION DE CONTADOR -->
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>                                            
                                        <hr/>
                                    </c:forEach>                                  
                                </h:form>
                            </div>
                            <div class="modal-footer" style="vertical-align: central">
                                <h4 style="font-size: xx-large; float: left">$#{pedidoCT.calcularCostoPedido(pedidoCT.organizarSubProductos(pedidoCT.subproductos))}</h4>                             
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
                            </div>
                        </div>
                    </div>
                </div>                
            </ui:define>
        </ui:composition>
    </h:body>

    <h:outputScript name="./js/moment-with-locales.min.js"  />
    <h:outputScript name="./js/bootstrap-datetimepicker.min.js"/>
</html>
